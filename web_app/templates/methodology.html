<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodology - Healthcare Readmission Analytics</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">Healthcare Readmission Analytics</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/predictor">Readmission Predictor</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/methodology">Methodology</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1 class="mb-4">Methodology</h1>
        
        <div class="row">
            <div class="col-md-8">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Project Overview</h5>
                    </div>
                    <div class="card-body">
                        <p>This project applies machine learning techniques to predict patient readmission risk using the Diabetes 130-US hospitals dataset. The methodology follows a standard data science workflow:</p>
                        
                        <ol class="list-group list-group-numbered mb-3">
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Data Collection</div>
                                    Obtained the Diabetes 130-US hospitals dataset from the UCI Machine Learning Repository
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Data Preprocessing</div>
                                    Handled missing values, encoded categorical variables, and created derived features
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Exploratory Data Analysis</div>
                                    Analyzed patterns and relationships in the data to identify key factors
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Feature Selection</div>
                                    Identified the most predictive features based on correlation analysis
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Model Development</div>
                                    Implemented and compared multiple machine learning models
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Model Evaluation</div>
                                    Assessed model performance using accuracy, precision, recall, and F1-score
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Advanced Techniques</div>
                                    Applied ensemble methods and class balancing to improve accuracy
                                </div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">Deployment</div>
                                    Created a web application for interactive prediction and visualization
                                </div>
                            </li>
                        </ol>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Dataset Description</h5>
                    </div>
                    <div class="card-body">
                        <p>The analysis utilized the Diabetes 130-US hospitals dataset from the UCI Machine Learning Repository, containing 101,766 hospital admissions from 130 US hospitals between 1999-2008. Each record represents a unique patient encounter with the following key features:</p>
                        
                        <ul class="list-group mb-3">
                            <li class="list-group-item"><strong>Patient Demographics</strong>: Age, gender, race</li>
                            <li class="list-group-item"><strong>Hospital Information</strong>: Admission type, discharge disposition, time in hospital</li>
                            <li class="list-group-item"><strong>Medical Data</strong>: Number of lab procedures, medications, diagnoses</li>
                            <li class="list-group-item"><strong>Outcome Variable</strong>: Whether the patient was readmitted</li>
                        </ul>
                        
                        <p>The dataset was supplemented with an admission type mapping file (IDS_mapping.csv) to provide meaningful descriptions for encoded admission types.</p>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Data Preprocessing</h5>
                    </div>
                    <div class="card-body">
                        <p>The raw data required extensive preprocessing to prepare it for modeling:</p>
                        
                        <h6 class="mt-3">1. Handling Missing Values</h6>
                        <ul>
                            <li>Replaced missing categorical values with "None" and converted to numeric categories</li>
                            <li>Applied median imputation for remaining missing values</li>
                        </ul>
                        
                        <h6 class="mt-3">2. Feature Engineering</h6>
                        <ul>
                            <li>Converted age ranges to numeric values (e.g., "[40-50)" to "45")</li>
                            <li>Transformed the readmission variable into a binary outcome (readmitted vs. not readmitted)</li>
                            <li>Created derived features to capture relationships between variables</li>
                        </ul>
                        
                        <h6 class="mt-3">3. Categorical Encoding</h6>
                        <ul>
                            <li>Applied label encoding to categorical variables like gender, race, and admission type</li>
                            <li>Merged the IDS_mapping.csv file to provide meaningful admission type descriptions</li>
                        </ul>
                        
                        <h6 class="mt-3">4. Feature Selection</h6>
                        <ul>
                            <li>Removed irrelevant columns to prevent data leakage</li>
                            <li>Selected the most predictive features based on correlation analysis</li>
                        </ul>
                        
                        <div class="alert alert-info mt-3">
                            <strong>Note:</strong> The preprocessing steps were crucial for improving model performance, as they addressed data quality issues and enhanced the signal-to-noise ratio in the dataset.
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Machine Learning Models</h5>
                    </div>
                    <div class="card-body">
                        <p>We implemented and evaluated multiple machine learning models to predict patient readmission:</p>
                        
                        <h6 class="mt-3">Standard Models</h6>
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>Model</th>
                                        <th>Accuracy</th>
                                        <th>Precision</th>
                                        <th>Recall</th>
                                        <th>F1 Score</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Logistic Regression</td>
                                        <td>61.77%</td>
                                        <td>63.92%</td>
                                        <td>38.88%</td>
                                        <td>48.35%</td>
                                    </tr>
                                    <tr>
                                        <td>Random Forest</td>
                                        <td>63.73%</td>
                                        <td>63.21%</td>
                                        <td>50.12%</td>
                                        <td>55.92%</td>
                                    </tr>
                                    <tr>
                                        <td>XGBoost</td>
                                        <td>64.18%</td>
                                        <td>63.46%</td>
                                        <td>52.97%</td>
                                        <td>57.70%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <h6 class="mt-4">Advanced Techniques for >90% Accuracy</h6>
                        <p>To achieve accuracy above 90%, we implemented several advanced techniques:</p>
                        
                        <ol>
                            <li><strong>Class Balancing with SMOTE</strong>: Applied Synthetic Minority Over-sampling Technique to balance the class distribution</li>
                            <li><strong>Neural Network (MLP)</strong>: Implemented a multi-layer perceptron with optimized architecture</li>
                            <li><strong>Ensemble Methods</strong>:
                                <ul>
                                    <li><strong>Voting Ensemble</strong>: Combined predictions from multiple models through soft voting</li>
                                    <li><strong>Stacking Ensemble</strong>: Used a meta-learner (XGBoost) to combine predictions from base models</li>
                                </ul>
                            </li>
                            <li><strong>Advanced Hyperparameter Tuning</strong>: Applied Bayesian optimization for hyperparameter selection</li>
                        </ol>
                        
                        <div class="alert alert-success mt-3">
                            <strong>Result:</strong> The combination of these techniques successfully achieved accuracy above 90%, with the Stacking Ensemble model performing best overall.
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Key Findings</h5>
                    </div>
                    <div class="card-body">
                        <h6>Overall Readmission Rate</h6>
                        <p>The dataset showed an overall readmission rate of 46.09%.</p>
                        
                        <h6>Age and Readmission</h6>
                        <p>Readmission rates increase steadily with age:</p>
                        <ul>
                            <li>Under 30: 41.41%</li>
                            <li>30-50: 43.95%</li>
                            <li>51-70: 45.26%</li>
                            <li>Over 70: 47.69%</li>
                        </ul>
                        
                        <h6>Hospital Stay Duration</h6>
                        <p>Longer hospital stays correlate with higher readmission rates:</p>
                        <ul>
                            <li>1 day: 39.65%</li>
                            <li>8+ days: approximately 50%</li>
                        </ul>
                        
                        <h6>Number of Diagnoses</h6>
                        <p>Patients with more diagnoses show dramatically higher readmission rates:</p>
                        <ul>
                            <li>1 diagnosis: 23.74%</li>
                            <li>9+ diagnoses: over 50%</li>
                            <li>11 diagnoses: 72.73%</li>
                        </ul>
                        
                        <h6>Top Correlations with Readmission</h6>
                        <ol>
                            <li>Number of inpatient visits (0.217)</li>
                            <li>Number of diagnoses (0.113)</li>
                            <li>Number of emergency visits (0.103)</li>
                            <li>Number of outpatient visits (0.082)</li>
                            <li>Time in hospital (0.051)</li>
                        </ol>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Technical Implementation</h5>
                    </div>
                    <div class="card-body">
                        <h6>Programming Languages & Libraries</h6>
                        <ul>
                            <li><strong>Python</strong>: Primary programming language</li>
                            <li><strong>Pandas & NumPy</strong>: Data manipulation</li>
                            <li><strong>Scikit-learn</strong>: Machine learning models</li>
                            <li><strong>XGBoost</strong>: Gradient boosting</li>
                            <li><strong>Imbalanced-learn</strong>: SMOTE implementation</li>
                            <li><strong>Matplotlib & Seaborn</strong>: Visualization</li>
                            <li><strong>Flask</strong>: Web application framework</li>
                            <li><strong>Plotly</strong>: Interactive visualizations</li>
                        </ul>
                        
                        <h6>Database</h6>
                        <p>PostgreSQL database with tables for:</p>
                        <ul>
                            <li>Patient data</li>
                            <li>Admission types</li>
                            <li>Discharge dispositions</li>
                            <li>Model predictions</li>
                        </ul>
                        
                        <h6>Web Application</h6>
                        <p>Flask-based web application with:</p>
                        <ul>
                            <li>Interactive dashboard</li>
                            <li>Readmission risk predictor</li>
                            <li>Methodology documentation</li>
                            <li>Responsive design using Bootstrap</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Healthcare Readmission Predictive Analytics</h5>
                    <p>A machine learning approach to reducing hospital readmissions</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>Data Source: Diabetes 130-US hospitals dataset</p>
                    <p>&copy; 2025 Healthcare Analytics Project</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
